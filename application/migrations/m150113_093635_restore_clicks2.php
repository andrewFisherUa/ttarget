<?php

class m150113_093635_restore_clicks2 extends CDbMigration
{
    // Use safeUp/safeDown to do migration with transaction
    public function safeUp()
    {
        $this->execute("UPDATE `campaigns` SET `clicks_without_externals` = `clicks` WHERE `clicks_without_externals` > 1000000;");
        $campaignTeaser = array();
        $campaignClicks = array();
        $platforms = array();
        $data = array();

        foreach(explode("\n", $this->getData()) as $line) {
            if ($line == "") {
                continue;
            }

            $row = explode(';', $line);

            $date = date('Y-m-d', strtotime($row[0]));
            $row[2] = (int)$row[2];
            $row[3] = (int)$row[3];

            if (in_array($row[3], array(0, 326), true)) {
                echo 'Skipped platform '.$row[3]."\n";
                continue;
            }

            if ($row[2] < 0) {
                $ccampaign = Campaigns::model()->findByPk($row[1]);
                $correction = new CampaignCorrection($ccampaign);
                $correction->set(
                    'clicks',
                    $date,
                    $date,
                    $row[2],
                    '',
                    1,
                    null,
                    $row['3']
                );
                $correctionData = $correction->getData();
                if (empty($correctionData)) {
                    throw new CDbException('Cant get correction data. Row: '.var_export($row, true));
                }
                $totalCorrection = 0;
                foreach($correctionData as $key => $correctionRow){
                    $totalCorrection += $correctionRow['correction'];
                    $correctionData[$key] = array(
                        'date' => $correctionRow['date'],
                        'news_id' => $correctionRow['news_id'],
                        'teaser_id' => $correctionRow['teaser_id'],
                        'platform_id' => $correctionRow['platform_id'],
                        'value' => $correctionRow['correction'],
                    );
                }
                if ($totalCorrection != $row[2] && !($row[0] == '20141212' && $row[3] == 63)) {
                    throw new CDbException('Corrected counter does not match. Requested: ' . $row[2] . ', corrected: ' . $totalCorrection . ".\nRow: ".var_export($row, true).".\nCorrectionData: ".var_export($correctionData, true));
                }
                $correction->adjust($correctionData);
            } else {
                $data[] = $row;
            }
        }

        foreach($data as $row){
            if (!array_key_exists($row[1], $campaignTeaser)) {
                $cnews = News::model()->findByAttributes(array(
                    'campaign_id' => $row[1],
                    'name' => 'Новость для коррекции'
                ));
                if($cnews !== null){
                    $cteaser = Teasers::model()->findByAttributes(array(
                        'news_id' => $cnews->id,
                        'title' => 'Тизер для коррекции'
                    ));
                }else {
                    $ccampaign = Campaigns::model()->findByPk($row[1]);
                    if (!$ccampaign) {
                        throw new CException('Cant find campaign ' . $row[1]);
                    }

                    $cnews = new News();
                    $cnews->campaign_id = $ccampaign->id;
                    $cnews->name = 'Новость для коррекции';
                    $cnews->url = 'http://tt.ttarget.ru/';
                    $cnews->is_active = 0;
                    $cnews->save();

                    $cteaser = new Teasers();
                    $cteaser->news_id = $cnews->id;
                    $cteaser->title = 'Тизер для коррекции';
                    $cteaser->picture = 'notfound.png';
                    $cteaser->is_active = 0;
                    $cteaser->save();
                }
                $campaignTeaser[$ccampaign->id] = $cteaser;
            } else {
                $cteaser = $campaignTeaser[$row[1]];
            }

            if (!array_key_exists($row[3], $platforms)) {
                $platforms[$row[3]] = Platforms::model()->findByPk($row[3]);
                if (!$platforms[$row[3]]) {
                    throw new CException('Cant find platform ' . $row[3]);
                }
            }

            if ($row[2] < 1) {
                throw new CException('Counter is too small. Row: ' . var_export($row, true));
            }

            ReportHandler::addCounter(
                'clicks',
                array(
                    'campaign_id' => (int)$row[1],
                    'news_id' => $cteaser->news_id,
                    'teaser_id' => $cteaser->id,
                    'platform_id' => $row[3],
                    'city_id' => 0,
                    'country_code' => 'RU',
                    'date' => $date
                ),
                $row[2]
            );
            if (!isset($campaignClicks[$row[1]])) {
                $campaignClicks[$row[1]] = 0;
            }
            $campaignClicks[$row[1]] += $row[2];
        }

        $updates = ReportHandler::createUpdateCounterSql('clicks', true);
        foreach($campaignClicks as $campaignId => $clicks){
            $updates[] = Campaigns::model()->createUpdateSql($campaignId, 'clicks', $clicks);
        }
        foreach($updates as $sql){
            $this->execute($sql);
        }
    }

    public function safeDown()
    {
    }

    private function getData()
    {
        return '20141216;272;345;39
20141211;272;327;39
20141215;272;320;39
20141217;272;308;39
20141212;272;285;39
20141213;272;232;39
20141214;272;225;39
20141215;272;136;66
20141217;272;128;66
20141211;272;126;66
20141212;272;123;66
20141216;272;122;66
20141212;272;89;143
20141215;272;84;143
20141216;272;80;143
20141213;272;63;66
20141214;272;62;143
20141214;272;57;66
20141211;272;55;63
20141211;272;50;143
20141217;272;47;143
20141213;272;41;143
20141212;272;38;245
20141211;272;35;(not set)
20141211;272;28;229
20141211;272;28;245
20141211;272;27;241
20141211;272;27;308
20141212;272;25;229
20141217;272;25;229
20141215;272;25;245
20141217;272;25;245
20141212;272;19;241
20141215;272;18;229
20141216;272;17;245
20141216;272;14;229
20141216;272;13;208
20141211;272;12;134
20141212;272;12;134
20141211;272;12;208
20141214;272;11;229
20141217;272;11;63
20141215;272;10;208
20141212;272;9;208
20141212;272;9;308
20141212;272;8;147
20141216;272;8;147
20141213;272;8;308
20141217;272;7;(not set)
20141214;272;7;134
20141215;272;7;134
20141213;272;7;208
20141214;272;7;208
20141214;272;7;245
20141214;272;7;308
20141217;272;6;147
20141215;272;6;308
20141217;272;5;134
20141213;272;5;241
20141214;272;5;246
20141213;272;4;134
20141216;272;4;134
20141217;272;4;308
20141211;272;3;147
20141213;272;3;147
20141215;272;3;147
20141215;272;3;151
20141217;272;3;208
20141216;272;3;238
20141213;272;3;245
20141216;272;3;308
20141212;272;3;319
20141215;272;3;319
20141218;272;3;63
20141218;272;3;66
20141214;272;2;147
20141212;272;2;155
20141211;272;2;157
20141213;272;2;229
20141211;272;2;233
20141216;272;2;240
20141211;272;2;246
20141215;272;2;246
20141217;272;2;246
20141211;272;2;254
20141211;272;2;257
20141212;272;2;257
20141216;272;2;257
20141211;272;2;271
20141214;272;2;285
20141215;272;2;317
20141214;272;2;318
20141216;272;2;318
20141211;272;2;319
20141212;272;2;326
20141215;272;2;326
20141217;272;2;326
20141219;272;2;326
20141222;272;2;39
20141212;272;1;(not set)
20141218;272;1;143
20141220;272;1;143
20141214;272;1;144
20141211;272;1;151
20141213;272;1;151
20141213;272;1;154
20141215;272;1;154
20141216;272;1;154
20141217;272;1;154
20141211;272;1;155
20141215;272;1;155
20141213;272;1;157
20141213;272;1;158
20141211;272;1;159
20141212;272;1;159
20141215;272;1;171
20141217;272;1;176
20141213;272;1;188
20141217;272;1;188
20141217;272;1;189
20141216;272;1;204
20141213;272;1;205
20141214;272;1;205
20141212;272;1;238
20141213;272;1;238
20141212;272;1;240
20141213;272;1;240
20141215;272;1;240
20141217;272;1;240
20141218;272;1;240
20141212;272;1;246
20141216;272;1;246
20141215;272;1;254
20141216;272;1;254
20141217;272;1;257
20141211;272;1;265
20141212;272;1;265
20141214;272;1;265
20141217;272;1;265
20141211;272;1;267
20141213;272;1;267
20141217;272;1;267
20141212;272;1;285
20141211;272;1;286
20141215;272;1;286
20141211;272;1;296
20141212;272;1;296
20141213;272;1;296
20141216;272;1;317
20141213;272;1;319
20141217;272;1;319
20141214;272;1;326
20141218;272;1;326
20141218;272;1;39
20141221;272;1;39
20141223;272;1;39
20141212;272;-1;63
20141218;272;-1;143
20141218;272;-1;240
20141218;272;-1;326
20141218;272;-1;39
20141218;272;-3;63
20141218;272;-3;66
20141217;272;-7;(not set)
20141217;272;-5;134
20141217;272;-47;143
20141217;272;-6;147
20141217;272;-1;154
20141217;272;-1;176
20141217;272;-1;188
20141217;272;-1;189
20141217;272;-3;208
20141217;272;-25;229
20141217;272;-1;240
20141217;272;-25;245
20141217;272;-2;246
20141217;272;-1;257
20141217;272;-1;265
20141217;272;-1;267
20141217;272;-4;308
20141217;272;-1;319
20141217;272;-2;326
20141217;272;-308;39
20141217;272;-11;63
20141217;272;-128;66
20141216;272;-4;134
20141216;272;-80;143
20141216;272;-8;147
20141216;272;-1;154
20141216;272;-1;204
20141216;272;-13;208
20141216;272;-14;229
20141216;272;-3;238
20141216;272;-2;240
20141216;272;-17;245
20141216;272;-1;246
20141216;272;-1;254
20141216;272;-2;257
20141216;272;-3;308
20141216;272;-1;317
20141216;272;-2;318
20141216;272;-345;39
20141216;272;-122;66
20141215;272;-7;134
20141215;272;-84;143
20141215;272;-3;147
20141215;272;-3;151
20141215;272;-1;154
20141215;272;-1;155
20141215;272;-1;171
20141215;272;-10;208
20141215;272;-18;229
20141215;272;-1;240
20141215;272;-25;245
20141215;272;-2;246
20141215;272;-1;254
20141215;272;-1;286
20141215;272;-6;308
20141215;272;-2;317
20141215;272;-3;319
20141215;272;-2;326
20141215;272;-320;39
20141215;272;-136;66
20141214;272;-7;134
20141214;272;-62;143
20141214;272;-1;144
20141214;272;-2;147
20141214;272;-1;205
20141214;272;-7;208
20141214;272;-11;229
20141214;272;-7;245
20141214;272;-5;246
20141214;272;-1;265
20141214;272;-2;285
20141214;272;-7;308
20141214;272;-2;318
20141214;272;-1;326
20141214;272;-225;39
20141214;272;-57;66
20141213;272;-4;134
20141213;272;-41;143
20141213;272;-3;147
20141213;272;-1;151
20141213;272;-1;154
20141213;272;-1;157
20141213;272;-1;158
20141213;272;-1;188
20141213;272;-1;205
20141213;272;-7;208
20141213;272;-2;229
20141213;272;-1;238
20141213;272;-1;240
20141213;272;-5;241
20141213;272;-3;245
20141213;272;-1;267
20141213;272;-1;296
20141213;272;-8;308
20141213;272;-1;319
20141213;272;-232;39
20141213;272;-63;66
20141212;272;-1;(not set)
20141212;272;-12;134
20141212;272;-89;143
20141212;272;-8;147
20141212;272;-2;155
20141212;272;-1;159
20141212;272;-9;208
20141212;272;-25;229
20141212;272;-1;238
20141212;272;-1;240
20141212;272;-19;241
20141212;272;-38;245
20141212;272;-1;246
20141212;272;-2;257
20141212;272;-1;265
20141212;272;-1;285
20141212;272;-1;296
20141212;272;-9;308
20141212;272;-3;319
20141212;272;-2;326
20141212;272;-285;39
20141212;272;-1;63
20141212;272;-123;66
20141211;272;-35;(not set)
20141211;272;-12;134
20141211;272;-50;143
20141211;272;-3;147
20141211;272;-1;151
20141211;272;-1;155
20141211;272;-2;157
20141211;272;-1;159
20141211;272;-12;208
20141211;272;-28;229
20141211;272;-2;233
20141211;272;-27;241
20141211;272;-28;245
20141211;272;-2;246
20141211;272;-2;254
20141211;272;-2;257
20141211;272;-1;265
20141211;272;-1;267
20141211;272;-2;271
20141211;272;-1;286
20141211;272;-1;296
20141211;272;-27;308
20141211;272;-2;319
20141211;272;-327;39
20141211;272;-55;63
20141211;272;-126;66
20141218;272;-1;(not set)
20141218;272;-3;241
20141218;272;-7;38
20141218;272;-2;39
20141218;272;-10;63
20141217;272;-22;(not set)
20141217;272;-8;134
20141217;272;-27;143
20141217;272;-12;147
20141217;272;-1;151
20141217;272;-1;155
20141217;272;-1;157
20141217;272;-1;158
20141217;272;-1;204
20141217;272;-7;208
20141217;272;-32;229
20141217;272;-1;241
20141217;272;-22;245
20141217;272;-2;265
20141217;272;-2;308
20141217;272;-2;318
20141217;272;-94;38
20141217;272;-307;39
20141217;272;-9;63
20141217;272;-84;66
20141216;272;-147;(not set)
20141216;272;-6;134
20141216;272;-33;143
20141216;272;-1;147
20141216;272;-2;154
20141216;272;-1;158
20141216;272;-5;208
20141216;272;-13;229
20141216;272;-2;240
20141216;272;-1;241
20141216;272;-18;245
20141216;272;-1;286
20141216;272;-5;308
20141216;272;-1;318
20141216;272;-3;319
20141216;272;-1;326
20141216;272;-1046;38
20141216;272;-199;39
20141216;272;-1;63
20141216;272;-67;66
20141215;272;-190;(not set)
20141215;272;-1;134
20141215;272;-45;143
20141215;272;-4;147
20141215;272;-1;158
20141215;272;-1;159
20141215;272;-5;208
20141215;272;-17;229
20141215;272;-1;240
20141215;272;-3;241
20141215;272;-12;245
20141215;272;-2;254
20141215;272;-1;265
20141215;272;-1;319
20141215;272;-3;326
20141215;272;-1009;38
20141215;272;-192;39
20141215;272;-2;63
20141215;272;-50;66
20141214;272;-60;(not set)
20141214;272;-29;143
20141214;272;-3;147
20141214;272;-1;151
20141214;272;-1;157
20141214;272;-1;158
20141214;272;-2;159
20141214;272;-3;208
20141214;272;-19;229
20141214;272;-1;233
20141214;272;-2;241
20141214;272;-5;245
20141214;272;-1;254
20141214;272;-2;265
20141214;272;-1;287
20141214;272;-3;308
20141214;272;-1;317
20141214;272;-1;318
20141214;272;-1;319
20141214;272;-554;38
20141214;272;-173;39
20141214;272;-26;66
20141213;272;-51;(not set)
20141213;272;-3;134
20141213;272;-23;143
20141213;272;-1;144
20141213;272;-3;147
20141213;272;-1;151
20141213;272;-3;157
20141213;272;-2;159
20141213;272;-2;188
20141213;272;-7;208
20141213;272;-4;229
20141213;272;-1;233
20141213;272;-2;241
20141213;272;-8;245
20141213;272;-2;265
20141213;272;-1;285
20141213;272;-2;286
20141213;272;-1;296
20141213;272;-5;308
20141213;272;-1;317
20141213;272;-1;318
20141213;272;-5;326
20141213;272;-619;38
20141213;272;-176;39
20141213;272;-5;63
20141213;272;-32;66
20141212;272;-47;(not set)
20141212;272;-3;134
20141212;272;-35;143
20141212;272;-8;147
20141212;272;-2;154
20141212;272;-1;155
20141212;272;-1;157
20141212;272;-1;188
20141212;272;-5;208
20141212;272;-26;229
20141212;272;-2;240
20141212;272;-13;241
20141212;272;-19;245
20141212;272;-1;246
20141212;272;-1;254
20141212;272;-1;257
20141212;272;-2;265
20141212;272;-1;267
20141212;272;-1;285
20141212;272;-8;308
20141212;272;-1;317
20141212;272;-2;319
20141212;272;-3;326
20141212;272;-579;38
20141212;272;-202;39
20141212;272;-30;63
20141212;272;-53;66
20141211;272;-20;(not set)
20141211;272;-8;134
20141211;272;-30;143
20141211;272;-1;144
20141211;272;-7;147
20141211;272;-1;154
20141211;272;-3;155
20141211;272;-1;158
20141211;272;-1;171
20141211;272;-8;208
20141211;272;-36;229
20141211;272;-24;241
20141211;272;-18;245
20141211;272;-1;285
20141211;272;-21;308
20141211;272;-608;38
20141211;272;-223;39
20141211;272;-29;63
20141211;272;-56;66
20141218;271;1;143
20141218;271;1;240
20141218;271;1;326
20141218;271;1;39
20141218;271;3;63
20141218;271;3;66
20141217;271;7;(not set)
20141217;271;5;134
20141217;271;47;143
20141217;271;6;147
20141217;271;1;154
20141217;271;1;176
20141217;271;1;188
20141217;271;1;189
20141217;271;3;208
20141217;271;25;229
20141217;271;1;240
20141217;271;25;245
20141217;271;2;246
20141217;271;1;257
20141217;271;1;265
20141217;271;1;267
20141217;271;4;308
20141217;271;1;319
20141217;271;2;326
20141217;271;308;39
20141217;271;11;63
20141217;271;128;66
20141216;271;4;134
20141216;271;80;143
20141216;271;8;147
20141216;271;1;154
20141216;271;1;204
20141216;271;13;208
20141216;271;14;229
20141216;271;3;238
20141216;271;2;240
20141216;271;17;245
20141216;271;1;246
20141216;271;1;254
20141216;271;2;257
20141216;271;3;308
20141216;271;1;317
20141216;271;2;318
20141216;271;345;39
20141216;271;122;66
20141215;271;7;134
20141215;271;84;143
20141215;271;3;147
20141215;271;3;151
20141215;271;1;154
20141215;271;1;155
20141215;271;1;171
20141215;271;10;208
20141215;271;18;229
20141215;271;1;240
20141215;271;25;245
20141215;271;2;246
20141215;271;1;254
20141215;271;1;286
20141215;271;6;308
20141215;271;2;317
20141215;271;3;319
20141215;271;2;326
20141215;271;320;39
20141215;271;136;66
20141214;271;7;134
20141214;271;62;143
20141214;271;1;144
20141214;271;2;147
20141214;271;1;205
20141214;271;7;208
20141214;271;11;229
20141214;271;7;245
20141214;271;5;246
20141214;271;1;265
20141214;271;2;285
20141214;271;7;308
20141214;271;2;318
20141214;271;1;326
20141214;271;225;39
20141214;271;57;66
20141213;271;4;134
20141213;271;41;143
20141213;271;3;147
20141213;271;1;151
20141213;271;1;154
20141213;271;1;157
20141213;271;1;158
20141213;271;1;188
20141213;271;1;205
20141213;271;7;208
20141213;271;2;229
20141213;271;1;238
20141213;271;1;240
20141213;271;5;241
20141213;271;3;245
20141213;271;1;267
20141213;271;1;296
20141213;271;8;308
20141213;271;1;319
20141213;271;232;39
20141213;271;63;66
20141212;271;1;(not set)
20141212;271;12;134
20141212;271;89;143
20141212;271;8;147
20141212;271;2;155
20141212;271;1;159
20141212;271;9;208
20141212;271;25;229
20141212;271;1;238
20141212;271;1;240
20141212;271;19;241
20141212;271;38;245
20141212;271;1;246
20141212;271;2;257
20141212;271;1;265
20141212;271;1;285
20141212;271;1;296
20141212;271;9;308
20141212;271;3;319
20141212;271;2;326
20141212;271;285;39
20141212;271;1;63
20141212;271;123;66
20141211;271;35;(not set)
20141211;271;12;134
20141211;271;50;143
20141211;271;3;147
20141211;271;1;151
20141211;271;1;155
20141211;271;2;157
20141211;271;1;159
20141211;271;12;208
20141211;271;28;229
20141211;271;2;233
20141211;271;27;241
20141211;271;28;245
20141211;271;2;246
20141211;271;2;254
20141211;271;2;257
20141211;271;1;265
20141211;271;1;267
20141211;271;2;271
20141211;271;1;286
20141211;271;1;296
20141211;271;27;308
20141211;271;2;319
20141211;271;327;39
20141211;271;55;63
20141211;271;126;66
20141218;271;1;(not set)
20141218;271;3;241
20141218;271;7;38
20141218;271;2;39
20141218;271;10;63
20141217;271;22;(not set)
20141217;271;8;134
20141217;271;27;143
20141217;271;12;147
20141217;271;1;151
20141217;271;1;155
20141217;271;1;157
20141217;271;1;158
20141217;271;1;204
20141217;271;7;208
20141217;271;32;229
20141217;271;1;241
20141217;271;22;245
20141217;271;2;265
20141217;271;2;308
20141217;271;2;318
20141217;271;94;38
20141217;271;307;39
20141217;271;9;63
20141217;271;84;66
20141216;271;147;(not set)
20141216;271;6;134
20141216;271;33;143
20141216;271;1;147
20141216;271;2;154
20141216;271;1;158
20141216;271;5;208
20141216;271;13;229
20141216;271;2;240
20141216;271;1;241
20141216;271;18;245
20141216;271;1;286
20141216;271;5;308
20141216;271;1;318
20141216;271;3;319
20141216;271;1;326
20141216;271;1046;38
20141216;271;199;39
20141216;271;1;63
20141216;271;67;66
20141215;271;190;(not set)
20141215;271;1;134
20141215;271;45;143
20141215;271;4;147
20141215;271;1;158
20141215;271;1;159
20141215;271;5;208
20141215;271;17;229
20141215;271;1;240
20141215;271;3;241
20141215;271;12;245
20141215;271;2;254
20141215;271;1;265
20141215;271;1;319
20141215;271;3;326
20141215;271;1009;38
20141215;271;192;39
20141215;271;2;63
20141215;271;50;66
20141214;271;60;(not set)
20141214;271;29;143
20141214;271;3;147
20141214;271;1;151
20141214;271;1;157
20141214;271;1;158
20141214;271;2;159
20141214;271;3;208
20141214;271;19;229
20141214;271;1;233
20141214;271;2;241
20141214;271;5;245
20141214;271;1;254
20141214;271;2;265
20141214;271;1;287
20141214;271;3;308
20141214;271;1;317
20141214;271;1;318
20141214;271;1;319
20141214;271;554;38
20141214;271;173;39
20141214;271;26;66
20141213;271;51;(not set)
20141213;271;3;134
20141213;271;23;143
20141213;271;1;144
20141213;271;3;147
20141213;271;1;151
20141213;271;3;157
20141213;271;2;159
20141213;271;2;188
20141213;271;7;208
20141213;271;4;229
20141213;271;1;233
20141213;271;2;241
20141213;271;8;245
20141213;271;2;265
20141213;271;1;285
20141213;271;2;286
20141213;271;1;296
20141213;271;5;308
20141213;271;1;317
20141213;271;1;318
20141213;271;5;326
20141213;271;619;38
20141213;271;176;39
20141213;271;5;63
20141213;271;32;66
20141212;271;47;(not set)
20141212;271;3;134
20141212;271;35;143
20141212;271;8;147
20141212;271;2;154
20141212;271;1;155
20141212;271;1;157
20141212;271;1;188
20141212;271;5;208
20141212;271;26;229
20141212;271;2;240
20141212;271;13;241
20141212;271;19;245
20141212;271;1;246
20141212;271;1;254
20141212;271;1;257
20141212;271;2;265
20141212;271;1;267
20141212;271;1;285
20141212;271;8;308
20141212;271;1;317
20141212;271;2;319
20141212;271;3;326
20141212;271;579;38
20141212;271;202;39
20141212;271;30;63
20141212;271;53;66
20141211;271;20;(not set)
20141211;271;8;134
20141211;271;30;143
20141211;271;1;144
20141211;271;7;147
20141211;271;1;154
20141211;271;3;155
20141211;271;1;158
20141211;271;1;171
20141211;271;8;208
20141211;271;36;229
20141211;271;24;241
20141211;271;18;245
20141211;271;1;285
20141211;271;21;308
20141211;271;608;38
20141211;271;223;39
20141211;271;29;63
20141211;271;56;66
20141208;259;1581;38
20141204;259;1442;63
20141217;259;1250;63
20141210;259;1164;38
20141210;259;1141;(not set)
20141212;259;1102;63
20141213;259;1099;63
20141208;259;1079;63
20141206;259;1026;63
20141209;259;977;63
20141210;259;962;63
20141205;259;959;63
20141214;259;945;63
20141211;259;939;63
20141208;259;891;(not set)
20141215;259;870;63
20141207;259;857;63
20141211;259;830;(not set)
20141209;259;825;38
20141211;259;817;38
20141207;259;660;38
20141209;259;617;(not set)
20141212;259;566;(not set)
20141216;259;479;63
20141208;259;478;39
20141204;259;424;39
20141207;259;413;(not set)
20141205;259;399;38
20141210;259;393;39
20141204;259;392;38
20141204;259;350;(not set)
20141216;259;329;39
20141209;259;310;39
20141206;259;303;39
20141207;259;296;39
20141212;259;294;38
20141205;259;291;39
20141205;259;274;(not set)
20141211;259;251;39
20141206;259;243;(not set)
20141212;259;239;39
20141215;259;220;39
20141214;259;217;39
20141217;259;181;(not set)
20141213;259;161;39
20141215;259;150;(not set)
20141222;259;147;39
20141206;259;130;38
20141218;259;130;63
20141214;259;123;(not set)
20141213;259;122;(not set)
20141208;259;117;66
20141217;259;105;39
20141219;259;103;39
20141204;259;93;66
20141216;259;89;66
20141216;259;78;(not set)
20141215;259;69;66
20141205;259;67;66
20141219;259;65;66
20141207;259;61;66
20141221;259;58;39
20141205;259;57;143
20141211;259;57;143
20141212;259;53;143
20141208;259;49;143
20141222;259;48;66
20141214;259;47;143
20141220;259;46;39
20141207;259;45;143
20141215;259;45;143
20141210;259;44;143
20141206;259;39;66
20141210;259;37;66
20141221;259;36;66
20141217;259;34;66
20141216;259;33;143
20141220;259;33;66
20141204;259;32;245
20141208;259;32;245
20141212;259;32;66
20141209;259;31;143
20141210;259;27;308
20141216;259;25;245
20141208;259;25;308
20141211;259;25;66
20141206;259;24;143
20141205;259;24;245
20141204;259;23;143
20141210;259;23;241
20141209;259;23;66
20141210;259;22;245
20141208;259;21;229
20141211;259;20;229
20141212;259;20;245
20141213;259;19;143
20141204;259;19;229
20141209;259;18;147
20141210;259;18;229
20141214;259;18;66
20141209;259;17;229
20141214;259;17;229
20141209;259;17;245
20141213;259;17;66
20141211;259;16;241
20141204;259;15;134
20141207;259;15;245
20141222;259;14;143
20141207;259;14;208
20141207;259;14;241
20141222;259;14;245
20141207;259;14;308
20141222;259;13;134
20141219;259;13;143
20141204;259;13;208
20141207;259;13;229
20141211;259;13;245
20141208;259;12;147
20141219;259;12;208
20141204;259;12;241
20141206;259;12;241
20141206;259;12;245
20141215;259;12;245
20141204;259;12;308
20141203;259;12;39
20141215;259;11;134
20141221;259;11;143
20141218;259;10;(not set)
20141214;259;10;134
20141216;259;10;208
20141216;259;10;229
20141208;259;10;241
20141209;259;10;241
20141217;259;10;245
20141217;259;9;143
20141220;259;9;143
20141206;259;9;229
20141212;259;9;229
20141217;259;9;229
20141219;259;9;63
20141205;259;8;134
20141216;259;8;147
20141211;259;8;208
20141212;259;8;241
20141209;259;8;308
20141213;259;8;38
20141205;259;7;147
20141212;259;7;147
20141210;259;7;208
20141215;259;7;229
20141205;259;7;241
20141205;259;7;308
20141211;259;7;308
20141212;259;7;308
20141210;259;6;134
20141205;259;6;208
20141205;259;6;229
20141213;259;6;245
20141214;259;6;245
20141220;259;6;245
20141206;259;6;308
20141214;259;6;308
20141220;259;6;319
20141216;259;5;134
20141207;259;5;147
20141211;259;5;147
20141213;259;5;147
20141212;259;5;208
20141213;259;5;208
20141215;259;5;208
20141217;259;5;208
20141219;259;5;229
20141217;259;5;38
20141218;259;5;38
20141209;259;4;134
20141213;259;4;134
20141204;259;4;147
20141206;259;4;147
20141210;259;4;147
20141214;259;4;147
20141222;259;4;147
20141206;259;4;208
20141209;259;4;208
20141222;259;4;229
20141221;259;4;245
20141213;259;4;308
20141216;259;4;308
20141216;259;4;38
20141212;259;3;134
20141217;259;3;134
20141221;259;3;154
20141204;259;3;155
20141206;259;3;155
20141208;259;3;155
20141209;259;3;155
20141206;259;3;205
20141208;259;3;208
20141222;259;3;208
20141221;259;3;229
20141206;259;3;240
20141219;259;3;245
20141207;259;3;246
20141210;259;3;257
20141220;259;3;265
20141215;259;3;308
20141219;259;3;308
20141212;259;3;319
20141214;259;3;38
20141220;259;3;63
20141221;259;3;63
20141222;259;3;63
20141219;259;2;(not set)
20141220;259;2;(not set)
20141211;259;2;134
20141219;259;2;134
20141215;259;2;147
20141217;259;2;147
20141213;259;2;151
20141206;259;2;154
20141216;259;2;154
20141210;259;2;158
20141211;259;2;158
20141207;259;2;176
20141206;259;2;204
20141207;259;2;204
20141214;259;2;208
20141222;259;2;240
20141216;259;2;246
20141205;259;2;254
20141212;259;2;254
20141204;259;2;265
20141207;259;2;265
20141216;259;2;265
20141207;259;2;285
20141213;259;2;285
20141206;259;2;286
20141221;259;2;308
20141222;259;2;308
20141206;259;2;317
20141208;259;2;317
20141216;259;2;317
20141214;259;2;318
20141215;259;2;318
20141211;259;2;319
20141213;259;2;319
20141219;259;2;319
20141222;259;2;319
20141212;259;2;326
20141213;259;2;326
20141215;259;2;326
20141216;259;2;326
20141218;259;2;39
20141208;259;1;134
20141221;259;1;134
20141208;259;1;144
20141221;259;1;147
20141209;259;1;151
20141211;259;1;151
20141212;259;1;151
20141214;259;1;151
20141220;259;1;151
20141207;259;1;154
20141209;259;1;154
20141212;259;1;154
20141213;259;1;154
20141219;259;1;154
20141220;259;1;154
20141222;259;1;154
20141211;259;1;155
20141212;259;1;155
20141213;259;1;155
20141214;259;1;155
20141215;259;1;155
20141216;259;1;155
20141217;259;1;155
20141222;259;1;155
20141204;259;1;157
20141206;259;1;157
20141207;259;1;157
20141209;259;1;157
20141215;259;1;157
20141216;259;1;157
20141220;259;1;157
20141207;259;1;158
20141220;259;1;158
20141206;259;1;159
20141219;259;1;159
20141221;259;1;159
20141204;259;1;176
20141212;259;1;176
20141216;259;1;176
20141220;259;1;180
20141214;259;1;183
20141212;259;1;187
20141211;259;1;188
20141215;259;1;188
20141208;259;1;204
20141212;259;1;204
20141217;259;1;204
20141213;259;1;205
20141214;259;1;205
20141203;259;1;208
20141208;259;1;219
20141203;259;1;229
20141213;259;1;229
20141218;259;1;229
20141220;259;1;229
20141204;259;1;238
20141209;259;1;238
20141211;259;1;238
20141213;259;1;238
20141205;259;1;240
20141212;259;1;240
20141214;259;1;240
20141215;259;1;240
20141221;259;1;240
20141203;259;1;245
20141206;259;1;246
20141208;259;1;246
20141209;259;1;246
20141210;259;1;246
20141214;259;1;246
20141221;259;1;246
20141206;259;1;254
20141208;259;1;254
20141213;259;1;254
20141208;259;1;257
20141211;259;1;257
20141216;259;1;257
20141219;259;1;257
20141206;259;1;265
20141210;259;1;265
20141211;259;1;265
20141212;259;1;265
20141214;259;1;265
20141221;259;1;265
20141204;259;1;271
20141205;259;1;271
20141206;259;1;271
20141210;259;1;271
20141212;259;1;271
20141219;259;1;271
20141206;259;1;285
20141214;259;1;285
20141215;259;1;285
20141216;259;1;285
20141219;259;1;285
20141220;259;1;285
20141221;259;1;285
20141207;259;1;286
20141208;259;1;286
20141213;259;1;286
20141214;259;1;286
20141221;259;1;286
20141213;259;1;287
20141214;259;1;287
20141217;259;1;308
20141220;259;1;308
20141207;259;1;317
20141209;259;1;317
20141212;259;1;317
20141215;259;1;317
20141216;259;1;318
20141204;259;1;319
20141206;259;1;319
20141207;259;1;319
20141209;259;1;319
20141210;259;1;319
20141215;259;1;319
20141216;259;1;319
20141221;259;1;319
20141211;259;1;326
20141214;259;1;326
20141215;259;1;38
20141220;259;1;38';
    }
}